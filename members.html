<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Professor - Distributed Intelligence &amp; Systems Laboratory</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- 폰트: Rethink Sans (메뉴 전용), Roboto (본문용), Material Symbols -->
  <link href="https://fonts.googleapis.com/css2?family=Rethink+Sans:wght@300;600;700&family=Roboto:wght@300;400;500;700&family=Material+Symbols+Outlined" rel="stylesheet">
  <style>
    /* 전역 리셋 및 박스 모델 설정 */
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      min-height: 100%;
      background-color: #ffffff;
      color: #000000;
      box-sizing: border-box;
    }
    *, *::before, *::after {
      box-sizing: inherit;
    }
    body {
      font-family: 'Roboto', sans-serif;
    }
    /* 전체 래퍼 */
    .wrapper {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }
    /* 메뉴: 최상단 중앙 가로 배치 */
    .menu {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .menu a {
      font-family: 'Rethink Sans', sans-serif;
      text-decoration: none;
      color: #002554;
      font-size: clamp(14px, 2vw, 20px);
      font-weight: 400;
      transition: color 0.3s;
    }
    .menu a:hover {
      color: #666;
    }
    /* Material Symbols 아이콘 */
    .material-symbols-outlined {
      font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 48;
      font-size: 18px;
      vertical-align: middle;
      margin-right: 4px;
    }
    /* 메인 콘텐츠 영역 */
    .content {
      width: 100%;
    }
    /* 섹션 제목 스타일 */
    .section-title {
      text-align: center;
      font-size: clamp(20px, 4vw, 32px);
      font-weight: 700;
      margin: 2rem 0 1.5rem 0;
      color: #002554;
    }
    /* 교수님 테이블: 단일 셀 구성 */
    .prof-table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 1rem;
      margin-bottom: 2rem;
    }
    .prof-table td {
      vertical-align: top;
      width: 100%;
      border: 1px solid #ccc;
      padding: 1rem;
    }
    /* 교수님 사진 */
    .prof-photo {
      display: block;
      margin: 0 auto 1rem auto;
      width: clamp(100px, 15vw, 200px);
      border-radius: 4px;
    }
    /* 교수님 기본 정보 */
    .prof-info {
      text-align: center;
    }
    .prof-info h1 {
      margin: 0 0 1rem 0;
      font-size: clamp(16px, 3vw, 30px);
      font-weight: 700;
      color: #002554;
    }
    .prof-info .subtitle {
      margin: 0 0 1rem 0;
      font-size: clamp(14px, 2.5vw, 24px);
      font-weight: 600;
      color: #333;
    }
    .prof-info .info-line {
      margin: 0.3rem 0;
      font-size: clamp(12px, 2vw, 16px);
      font-weight: 400;
      line-height: 1.4;
    }
    /* 2 x 2 카드 스타일 for 정보 섹션 */
    .info-cards {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin: 1rem 0 2rem 0;
    }
    .card {
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 1rem;
      text-align: center;
      min-height: 225px;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.05);
    }
    .card h2 {
      margin: 0 0 1rem 0;
      font-size: clamp(16px, 2vw, 20px);
      font-weight: 600;
      color: #000;
    }
    .card ul {
      margin: 0;
      padding-left: 1.2rem;
      list-style-type: disc;
      text-align: left;
    }
    .card li {
      margin: 0.3rem 0;
      color: #777;
      font-size: clamp(14px, 2vw, 16px);
      line-height: 1.4;
    }
    /* 학생 테이블 (석사, 학부 각각) */
    .student-table {
      margin: 0 auto 2rem auto;
      border-collapse: separate;
      border-spacing: 1rem;
      width: 100%;
      table-layout: fixed;
    }
    .student-table td {
      vertical-align: top;
      padding: 1rem;
      border: 1px solid #ccc;
      min-height: 300px;
      text-align: center;
    }
    .student-photo-container {
      height: 220px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 0.5rem;
    }
    .student-photo {
      max-height: 100%;
      width: auto;
      object-fit: contain;
    }
    .student-name {
      font-size: 1.2em;
      font-weight: bold;
      margin-top: 0.5rem;
      margin-bottom: 0.3rem;
    }
    .student-contact {
      font-size: 0.9em;
      color: #555;
      margin-top: 0.2rem;
      margin-bottom: 0.1rem;
    }
    .email-contact {
      margin-bottom: 0.1rem;
    }
    .github-contact {
      margin-top: 0.1rem;
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <!-- 상단 메뉴 (공용) -->
    <nav class="menu">
      <a href="index.html">Home</a>
      <a href="admin_members.html">Members</a>
      <a href="admin5504.html">Publications</a>
      <a href="admin_research.html">Research</a>
      <a href="admin_projects.html">Projects</a>
      <a href="admin_news.html">News</a>
      <a href="admin_contact.html">Contact</a>
    </nav>

    <div class="content">
      <!-- 교수 정보 섹션 -->
      <div class="section-title">Professor</div>
      <div id="professorContainer">
        <!-- API에서 불러온 교수 정보가 여기에 동적으로 삽입됩니다. -->
      </div>

      <!-- 석사과정 학생 섹션 -->
      <div class="section-title">Master Graduate Students</div>
      <div id="masterContainer">
        <!-- API에서 불러온 석사과정 학생 카드들이 동적으로 생성됩니다. -->
      </div>

      <!-- 학부 연구생 섹션 -->
      <div class="section-title">Undergraduate Research Students</div>
      <div id="undergradContainer">
        <!-- API에서 불러온 학부 학생 카드들이 동적으로 생성됩니다. -->
      </div>
    </div>
  </div>

  <script>
    // 교수 정보 로드
    function loadProfessor(){
      fetch('https://www.nameyee.me/api/professor')
        .then(response => response.json())
        .then(data => {
          const container = document.getElementById('professorContainer');
          // 교수 정보 카드 생성
          container.innerHTML = `
            <table class="prof-table">
              <tr>
                <td>
                  <img src="${data.photo}" alt="Professor ${data.name}" class="prof-photo">
                  <div class="prof-info">
                    <h1>${data.name}</h1>
                    <div class="subtitle">${data.title}</div>
                    <div class="info-line">${data.info || ''}</div>
                    <div class="info-line">
                      <a href="mailto:${data.email}" style="text-decoration:none; color:inherit;">
                        <span class="material-symbols-outlined">mail</span> ${data.email}
                      </a>
                    </div>
                  </div>
                </td>
              </tr>
            </table>
          `;
        })
        .catch(err => console.error('Error loading professor info:', err));
    }

    // 학생 정보 로드 (전체 학생 정보를 불러온 후, level에 따라 분리)
    function loadStudents(){
      fetch('https://www.nameyee.me/api/students')
        .then(response => response.json())
        .then(data => {
          const masterContainer = document.getElementById('masterContainer');
          const undergradContainer = document.getElementById('undergradContainer');
          masterContainer.innerHTML = '';
          undergradContainer.innerHTML = '';
          // 각 학생에 대해 카드 생성
          data.forEach(student => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
              <div class="student-photo-container">
                <img src="${student.photo}" alt="${student.name}" class="student-photo">
              </div>
              <div class="student-name">${student.name}</div>
              <div class="student-contact email-contact">
                <a href="mailto:${student.email}" style="text-decoration:none; color:inherit;">
                  <span class="material-symbols-outlined">mail</span> ${student.email}
                </a>
              </div>
              <div class="student-contact github-contact">
                <a href="${student.github}" target="_blank" style="text-decoration:none; color:inherit;">
                  <span class="material-symbols-outlined">code</span> ${student.github}
                </a>
              </div>
            `;
            if(student.level === "Master"){
              masterContainer.appendChild(card);
            } else if(student.level === "Undergraduate"){
              undergradContainer.appendChild(card);
            }
          });
        })
        .catch(err => console.error('Error loading students:', err));
    }

    // 페이지 로드 시 데이터 불러오기
    loadProfessor();
    loadStudents();
  </script>
</body>
</html>
