<script>
  // 교수 정보 로드
  function loadProfessor(){
    fetch('https://www.nameyee.me/api/professor')
      .then(response => response.json())
      .then(data => {
        console.log("Professor data:", data);
        const container = document.getElementById('professorContainer');
        container.innerHTML = `
          <table class="prof-table">
            <tr>
              <td>
                <img src="${data.photo}" alt="Professor ${data.name}" class="prof-photo">
                <div class="prof-info">
                  <h1>${data.name}</h1>
                  <div class="subtitle">${data.title}</div>
                  <div class="info-line">
                    <a href="mailto:${data.email}" style="text-decoration:none; color:inherit;">
                      <span class="material-symbols-outlined">mail</span> ${data.email}
                    </a>
                  </div>
                  <div class="info-line">
                    ${data.info || ''}
                  </div>
                </div>
              </td>
            </tr>
          </table>
          <div class="info-cards">
            <div class="card">
              <h2>Education</h2>
              <ul>
                ${data.education ? data.education.split(';').map(item => `<li>${item.trim()}</li>`).join('') : ''}
              </ul>
            </div>
            <div class="card">
              <h2>Research Experience</h2>
              <ul>
                ${data.research_experience ? data.research_experience.split(';').map(item => `<li>${item.trim()}</li>`).join('') : ''}
              </ul>
            </div>
            <div class="card">
              <h2>Honors and Awards</h2>
              <ul>
                ${data.honors ? data.honors.split(';').map(item => `<li>${item.trim()}</li>`).join('') : ''}
              </ul>
            </div>
            <div class="card">
              <h2>Academic Activities</h2>
              <ul>
                ${data.academic_activities ? data.academic_activities.split(';').map(item => `<li>${item.trim()}</li>`).join('') : ''}
              </ul>
            </div>
          </div>
        `;
      })
      .catch(err => console.error('Error loading professor info:', err));
  }

  // 학생 정보 로드 (동일)
  function loadStudents(){
    fetch('https://www.nameyee.me/api/students')
      .then(response => response.json())
      .then(data => {
        const masterContainer = document.getElementById('masterContainer');
        const undergradContainer = document.getElementById('undergradContainer');
        masterContainer.innerHTML = '';
        undergradContainer.innerHTML = '';
        data.forEach(student => {
          const card = document.createElement('div');
          card.className = 'student-card';
          card.innerHTML = `
            <div class="student-photo-container">
              <img src="${student.photo}" alt="${student.name}" class="student-photo">
            </div>
            <div class="student-name">${student.name}</div>
            <div class="student-contact email-contact">
              <a href="mailto:${student.email}" style="text-decoration:none; color:inherit;">
                <span class="material-symbols-outlined">mail</span> ${student.email}
              </a>
            </div>
            <div class="student-contact github-contact">
              <a href="${student.github}" target="_blank" style="text-decoration:none; color:inherit;">
                <span class="material-symbols-outlined">code</span> ${student.github}
              </a>
            </div>
          `;
          if(student.level === "Master"){
            masterContainer.appendChild(card);
          } else if(student.level === "Undergraduate"){
            undergradContainer.appendChild(card);
          }
        });
      })
      .catch(err => console.error('Error loading students:', err));
  }

  loadProfessor();
  loadStudents();
</script>
